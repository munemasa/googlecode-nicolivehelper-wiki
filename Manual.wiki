=Manual (version 0.7.3)=
<wiki:toc max_depth="3" />

マニュアル用に。<br>
てきとーにいぢってもらってOKです。
とはいえ、どうやって編集権限出すんだろう。
commiterでいいのかな？

== Startup ==
生放送のページでコンテキストメニューを出し、NicoLive Helperを選択します。<br>
どこのページからでもウィンドウを開くことができますが、そのときはリスナーとして動作しています。事前のストック準備などに。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/nico_startup.png

==リクエスト==
リスナーコメントで sm/nm番号が流れたときに、リクエストキューに追加されます。複数動画IDが含まれている場合は、先頭の1つが対象です。<br>
入力ボックスから追加する場合、sm/nm番号(複数可,sm0sm1sm2 みたいに連結されたままでも、どんなゴミが含まれても、(sm|nm+数字)で認識するので)を入力すると、リクエストキューに追加されます。<br>
自動再生では、リクエスト→ストックの優先で再生していきます。

*手動再生*
 「再生」ボタンを押して手動で再生します
*自動再生(順次)*
 リクエスト→ストックの優先で上から順次再生します
*自動再生(ランダム)*
 リクエストをランダムに選択して再生、ストックは上から順次再生になります

自動順次のときには先読み指定が効くので、ランダムよりはシャッフルの方が深夜混雑時間帯にはオヌヌメ。<br>
また、リクエスト引き継ぎ用に、コンテキストメニューから残リクエストの動画IDをクリップボードにコピーできます。

左下にあるプログレスバーでコンテキストメニューを出すと、
再生中の動画をマイリスト登録できます。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/tab_request.png

==ストック==
ストック(いわゆる主セレ)。マイリスト(公開マイリスト含む)からインポートできます。
公開マイリストの取り込みはマイリストのURLを入力欄に入れてください。<br>
灰色になっているものは再生済みのもの、ピンクのものは未再生のものです。
灰色のものは自動再生の対象になりません。

コンテキストメニューからは、P名設定などができますが、*動画DBにデータがないと効果がありません*。(いずれどうにかしよう)

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/tab_stock_menu.png

== 再生履歴 ==
ボカロ系生放送のプレイリストスレッドに書き込みやすい体裁で、記録しています。<br>
動画IDを範囲選択してコンテキストメニューを出すと、マイリスト登録もできます。<br>
消去ボタンは、再生履歴を消去し、再生済みの動画も、再度、リクエストを受けとるようになります。
テキストボックスを編集しても、実際の再生履歴は消去されないので、消去ボタンを押して消去してください。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/tab_history.png

== コメント ==
ただのコメントビューア。発言もできます。<br>
コンテキストメニューから、コテハン設定と、コメントのコピーができます。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/tab_comment_menu2.png

== 動画DB ==
ただの動画DB。条件指定して動画検索を行うことが出来ます。<br>
動画のDB登録は、マイリストまたは入力ボックスへの入力で行えます。
既存データの情報更新も登録で行います。データ更新は自動で行っていないため、適度に動画登録経由して情報更新してください。今後、改善される予定です。
リクエスト送信は、リスナーならコメント送信、主ならリクエストタブ行きです。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/tab_moviedb.png

== 基本設定 ==

*接続時にジングルを再生する*
 Helper起動時、放送開始から3分未満、まだ何も再生されていない時に、5秒待ってから、指定の動画を再生します。

*自動再生時、30分枠に収まるように再生する動画を選択する*
 30分枠に収まるように動画を選択して再生します。

*ただし、ロスタイムを考慮し、若干の枠オーバーを許容する*
 ロスタイム90秒あるものとして扱います。

*次の動画を再生するまでの待ち時間*
 動画と動画の間の待ち時間を入力します。

*1つの動画の最大再生時間*
 動画を再生する最大の時間を指定します。15分ある動画を自動で5分で切りたい時など。0は無制限です。

*リクエストに対して自動で運営コメントを返す*
 リクエストの受け付けについて運営コメントします。

*リクエストの新着(7日)制限を行う*
 現在時刻から秒単位で7日以内かどうかチェックしています(ぼか生基準と違う)

*ミクオリジナル曲のみを受け付ける*
 開発主用。タグからミクオリジナル曲またはミクうたカバー等を判定しています。そのうち推論エンジン&機械学習モデル採用して判定能力上げようかと。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/tab_basicsettings.png

== Advanced Settings ==

=== 動画情報 ===
運営コメントで行う、動画情報をカスタマイズできます。
使用できるマクロは後述で。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/adv_movieinfo.png

=== 運営コメント ===
リクエストを受けるときに応答する運営コメントをカスタマイズできます。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/adv_comment.png

=== リクエスト制限 ===
リクエストを受け付ける動画の条件(リク縛り)を指定します。<br>
指定した条件をプリセット名を指定して保存することができます。
プリセット名を入力し、登録ボタンを押してください。
プリセットを削除する場合は、削除したいプリセット名を入力し、削除ボタンを押してください。

登録した場合は、*プリセット読み込み*メニューに追加されています。<br>
削除した場合は、プリセット読み込みメニューから削除されません(面倒なので。そんな細かいところ修正しなくてもいいよね)が、Advanced Settingsを開き直すと消えています。

タグの条件では、空白区切りで OR 条件指定できます。<br>
  * *タグ「初音ミク 鏡音リン」を含む* と指定すると、タグに、初音ミクまたは鏡音リンがある動画を受け付けることができます。<br>
  * *タグ「アイドルマスター」を含む、「紳士協定違反」を含まない* と指定すると、紳士協定違反を除いたアイドルマスター動画を受け付けることができます。<br>

  * 0 と指定した項目は無視します。
  * 投稿日指定では、両方に同一の日時を使用したり、日時の前後関係が矛盾しているときに無視します。
  * 投稿日の始点は 0:00:00 から、終点は 23:59:59 までになっています。2007/08/01～2007/08/31 と範囲指定した場合、8/1 0:00:00 ～ 8/31 23:59:59 になります。

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/adv_restrict.png

=== その他 ===
コミュニティやチャンネルの生放送ではないものは、自動で開くことができません(一応、仕様)

http://wiki.nicolivehelper.googlecode.com/hg/Manual.attach/adv_etc.png


== 動画情報用のマクロ ==

||{title}  ||動画のタイトル||
||{view}   ||再生数        ||
||{comment}||コメント数    ||
||{mylist} ||マイリスト数  ||
||{date}   ||投稿日時      ||
||{length} ||再生時間      ||
||{tags}   ||タグ(35文字ちょいで改行される)||
||{pname}  ||P名(D名) 不明のときは空文字 ||
||{id}     ||動画ID        ||
||{additional}||動画個別の追加情報||

{additional}は、コンテキストメニューの「追加情報設定」から設定した任意の文字列に置換します。
ある動画に「○○発売中！」とか登録しておけば、{additional}の部分が「○○発売中！」に置換されて主コメが行われます。

==Tips and Q&A==

===リクエスト、ストック登録について===

リクエスト、ストックの登録は、
たとえ主であろうと、リクエスト制限などの縛りの影響を受けます。
縛りルールを逸脱するのは主でも許されないってことで。<br>
ただし、登録後に縛り設定しても、登録済みのものは残ります。

===動画再生時間について===
最大再生時間は分単位でしか設定できないけど、
次の動画を再生するまでの待ち時間も加わるので、
実際には、最大再生時間(分)＋待ち時間(秒)と、秒単位で次に飛ばせたり。

===ロスタイムについて===
配信開始ボタンを押したあと、生放送画面をリロードするだけでロスタイムは発生する。<br>
ツール問わない技。