#summary 更新内容のメモ書き
#labels Featured

更新内容のメモ書き用。
<wiki:toc max_depth="1" />

=Current=
  * リクエストもストックと同じ並べ替えメニューを載せた。
  * 放送終了3分前告知を、従来の通知領域、ダイアログ、運営コメントの3種類に増やした。<br>ついでに「放送時間残り3分になりました」に変更。

=0.9.6=
  * ステータスバーのリク数、ストック残数のところで、ツールチップにリクエスト総時間の情報を表示するように。
  * 手動再生でも先読みするように変更。ランダムは次を予測できないので今まで通り先読みなし。
  * 主コメがstatus=errorになったときに 1回だけリトライするように変更。
  * リク、ストック、エラータブでタイトルの右隣にP名表示。
  * F5キーでストックの再描画。
  * リク、ストック、エラータブでP名表示するようになってDBへのアクセスが増えるため、キャッシュを設けたので、他のウィンドウで変更したP名がすぐに反映されないことがあります。
  * 誰P,きれいな誰P という類似P名があるときに、後者の方をP名として残して他を削除するようにした。
  * CTRL+M でプログレスバーに表示されている現在再生中の動画をとりあえずマイリストする。
  * ～jpをP名候補から除外。
  * cosMo(暴走P)のために"P)"で終わるものもP名として認識していたけど、曲名(誰P)となっているものを除外できるように (誰P) を含んだものをP名から除外。
  * ストックのプレイリスト機能で、再生ボタンを押したときに常に新規タブを用意していたけど、すでに作ったタブがあればそのタブを利用して再生する。
  * ロスタイム90秒あるものとして扱っていたが、少しばらつきが大きいので75秒に縮小。
  * ストックの操作を速くした。<br>並べ替えとかシャッフルみたいな中身がどっと変わるようなものは変わらず。
  * *-----ここまで 0.9.6pre1-----*
  * ↑↓ボタンで再生済み背景色が移動していなかったのを修正。
  * /prepare(動画の先読み)を行うか行わないかを選択する設定を基本設定の進行のところに追加。
  * リクエスト、ストック内をキーワード検索できるようにした。<br>CTRL+Fで検索開始、F3で次を検索。
  * 任意の動画で/prepareを送信するメニューを追加。

=0.9.5=
  * 再生中動画のプログレスバーでクリックすると、経過時間と残り時間の表示切り替えをする<br>ただし設定として保存していないので、切り替え状態の有効期限はその枠限り。
  * 手動再生の時、最大再生時間が設定されているとそこで再生終了として扱ってプログレスバーの表示がなくなるので、最大再生時間設定は自動再生時のみにして修正。
  * Firefoxのメニューバー「ツール」内に「NicoLive Helper」の項目を追加して、過去にHelperが接続した生放送を最大20件表示。<br>選択するとその生放送にジャンプする。
  * 世界の新着も(公式生も？)自動起動の対象になった。
  * コミュ別ジングル設定を追加。
  * P名ホワイトリストの設定窓口を追加。<br>内部で持っているP名リストと合成して使います。変更後はHelper起動し直しで有効。
  * JSONファイルの情報表示をリク、ストック、エラータブのリストに追加。<br>任意データであることを表せる良い表記が思いつかなかったので、ミクノ度の髭マークを使うことにした。<br>データが存在しないときは何も表示しない。
  * 最大化するとウィンドウのZオーダーがリセットされるので、リサイズ時にウィンドウのZオーダーを再設定するように。<br>最大化時のZオーダー設定はできない(エラーになる)ことが分かったので、最大化状態で最前面表示は不可能。
  * リクエスト消費数順再生を有効に。<br>ただし、ストックからリクエストボタンでリクエストに追加したものは、通常のリクエスト受け付けの窓口を通っていないため、リスナーからのリクエストを完全消化するまで再生されません。
  * マイリストからストック登録するとき、マイリストコメントがあれば動画情報にメモする。<br>{mylistcomment}で表示可能。
  * ストックの再生済み動画を、個別に未再生に戻すメニュー項目追加。
  * 配信開始メニューを追加。ただしExperimental。

=0.9.4=
  * コマンドボタンのフォントサイズを１ポイント下げた。
  * そして一番下に沈める↓↓ボタンを用意。(ボタン増えすぎな感がなくもない)
  * 設定タブをなくして、メニューに移動。
  * ウィンドウ座標の復元のやり方変更。
  * 184コメントを行うか否かの設定を追加。ただし主コメは必ず184コメになるみたい。<br>デフォルトは184コメントON
  * オフラインでのプレイリスト再生するときに動画のflashのあるところまでスクロールさせるように。
  * 動画IDごとに値を設定しているJSONデータを読んでその値と置換する{json}マクロを用意。<br>{additional}はDBに静的に保存される情報で、{json}はインターネットから取得するJSONデータを元にする情報。http:// だけでなく file:// を使ってローカルファイルを読み込ませるのも可。<br>ミクノ度のJSONデータは試し済み。
  * 動画IDを直接コメント入力して再生するとき、動画情報主コメをしないオプションを追加。<br>ジングルの情報も出なくなります。(ジングル再生が動画ID直接入力しての再生と同じことやってるので)
  * 自動で生放送プレイヤーの位置までスクロールする設定追加。
  * コメントログをファイルに書き始めるときの最初の行を、「--- begin log ---」から「--- 番組名 ---」に変更。
  * 連続コメント用テキストファイル保存先を指定して、リストメニューに表示、選択でファイル読み込みをするように。
  * 再生履歴のテキストを復元する機能を付けた。<br>ただし番組名は内部の履歴に残していないので、再生動画リストのみ復元します。

=0.9.3=
  * 動画DBにもストック追加と同じものをD&Dできるように。
  * ウィンドウのx,y,w,hを保存、復元するように。
  * 連続コメントをサポート。<br>テキストボックスにはテキストファイル.txtをD&D可。
  * 再生数0の動画のマイリス率が{mylistrate}のままになるのを修正。
  * P名判定をホワイトリスト優先に変更。
  * Windows Live Messengerのプレゼンスを番組名に設定するように(Win専用の機能)
  * エラーリクエストタブを追加。<br>リクエストを拒否した動画、再生エラーになった動画をリストアップし、必要があればリクエストに追加を行えるように。<br>ストック追加時のものは対象外(「エラー *リクエスト*」タブなので)。
  * ~~コメントの配色変更(パステルカラーのみだと色が似てしまうので)<br>しかし実際に使ってみるとどうも違和感があるな…。反響待ちで。~~ やっぱりパステルカラーじゃないとどうも気に入らないのでナシ。
  * ストック、DBタブへのD&D対象に、ブックマークを追加。
  * ストックもランダム再生の対象に。(今まではストック内はシーケンシャル再生のみだった)<br>しかしミクライブがやっていると確認がっっｗ
  * リクエスト、ストックタブの動画を、コンテキストメニューからマイリス登録できるように。

=0.9.2=
  * &nbsp;とか&amp;とか&lt;の実体参照を変換するように。
  * タイトルに含まれる\u200bの文字を削除するように。
  * 強制生主モードを追加(生主フラグを立てるだけだけど)
  * Helper起動後、枠開始3分以内に何か動画を再生開始すると、「生放送名+放送ID」を再生履歴に記録。(初音ミクのライブのプレイリストに書くときの順ね、実際はPart#しか書かないけど)
  * 世界の新着見てて、説明文の部分も出したいなぁと、{description}を追加。SSDと同じで先頭40文字まで。
  * リクエストのコメ番順ソートを追加。<br>視聴者で見てるときに安価リクでリクが殺到した場面でどこまで採用されるかチェックが面倒だったので(リクエストタブはgetthumbinfo終わった順になるので)。<br>生主でストックからリクエストボタンで移動させたり、テキストボックスから追加したものは後ろ。
  * 動画DBの検索結果のタグに&があると、その動画がリストアップされないので修正
  * オートコンプリートの情報をウィンドウを閉じるタイミングで保存
  * ストックタブに、動画へのアンカー(リンク)、ニコニコ動画の検索ページのタブ、公開マイリストのタブをドロップすると、ストックに中身が追加される。
  * Improve the extra playlist function (what feature was improved is secret.)

=0.9.1=
  * オフライン使用時のストック再生は、最後まで再生すると先頭に戻ってループ再生するように。
  * 生主の座席番号が変わったのに対応。(座席番号使わない判定してもいいか…というか座席番号使わない生主判定って、自動オープンでやってるんだった。いずれこの判定を使わせてもらおう)

=0.9=
  * ツールバーを作成。<br>リクエストタブの、手動、自動再生、リク可否もツールバーに移動。
  * サブ画面など、いくつかの運営コマンドに対応。
  * 自動再生のトリガーを「何か動画を再生した時」のみに。
  * ウィンドウ一覧メニューを付けた。
  * アンケート機能のダイアログ画面など。
  * 入力欄からのストック、DB登録で、複数マイリスに対応。
  * ステータスバーにリク、ストック残数を表示するように。
  * データをストレージに保存するタイミングを、ウィンドウを閉じるときに変更。<br>それ以外ではメモリ上に保存しています。
  * コメントログをファイルに残せるし、クリップボードにコピーもできるので、Open As Textboxはなくした。
  * コメント入力でオートコンプリートを載せた。まだちょっとバグあり。

=0.8=
  * コテハン設定を永続化。ただし184は1週間で破棄。184じゃないものは個別に削除とかはないので一度設定したら永遠に。
  * 今までFirefoxが動いている間のみ保存としていたものを永続化。
  * ジングル再生の動画情報コメ開始のトリガーを変更した(getthumbinfoを行った後に)。おまけで、Helperからの再生を経由せずに主コメから直接動画IDを入力したときも、動画情報コメが出るように。
  * データの永続化に伴って、以前は、生放送と関係ないページでHelperを開いた場合、視聴者として動作してストックのみ保存していたところ、放送者と同等にリクエスト、ストック、再生履歴も復帰、保存するようにした。(データが残るものを主やっているときしか操作できないのは不便なので)
  * 手動、自動再生、リクエスト許可、不可を保存するようにした。保存するタイミングはウィンドウを閉じるとき。
  * ニコ生サーバーとローカルPCの時差補正をするようにした。PCの時刻がニコ生の時刻より進んでいると、生放送開始後、時差の分だけ過去のコメント(無視してもよいコメント)と判断するので。
  * なんかストックをプレイリスト代わりとしてニコニコ動画の動画を連続再生できるようにしてしまった…。ただし、プレミアム会員用のオプションである「動画を自動再生する」にチェックを入れること。再生終わるたびに次の動画のページに移動します。(あくまでオマケ機能なので本腰入れて対応する予定なし)
  * ────────── ここまで 0.8pre1 ──────────
  * ストックでsm/nm番号の含まれる.txtのファイルをドロップすると、それを新しいストックとして取り込むように。
  * 全リクエストをコピーを一番下に移動。
  * 動画DBに登録していない動画でも、P名、追加情報を登録できるように。<br>P名、追加情報専用のテーブルを用意したため、今までに設定されたP名、追加情報は、すべて利用されなくなります。
  * ストックのタイトル順ソート追加。
  * ～P、～Dで終わっていないP名のホワイトリスト適用。…いずれ設定項目に。
  * ストックをファイルに書き出すメニュー項目を追加。
  * voteを使ったときに、質問内容と、結果を主コメする。

=0.7.4=
  * いくつかの警告やエラーは alert() を使っていたのを、通知領域に変更した。alertダイアログはモーダルで割り込みも止まるので、ダイアログ表示中って自動進行とか一切止まってしまうので。
  * リク、ストックタブからは動画のページを開けるのに、動画DBからは開けないのが不便だったので、動画IDにリンクを張るように。
  * ジングル動画が指定されていないときに再生コマンドを送信しないようにした。
  * 日本向けのタグが空の動画があると、リクやストック内の表示系がおかしなことになるのを修正。
  * リクエスト許可、リクエスト不可のボタンを押したときに、自動運営コメント。デフォルト値は設定なし(コメントしない)。

=0.7.3=
  * 再生エラーになった曲はストックに移動。（生拒否にしていなくても、たまに起きるので）<br>最終的にはリクエスト受付拒否とかも含めて、エラー動画として扱うようになるかも。
  * リクエスト制限追加(リクエスト縛りにどうぞ)
  * アンカー指定でのリクエスト受け付け(マニュアルのコメント項目を参照で)
  * リク、ストックの動画詳細内のsm,nm,mylistにリンク付けるように。
  * リク、ストックで、動画にカーソルを持っていくと、チップヘルプでビットレートを表示するように。
  * ツール上から発言される運営コメントは全てマクロ展開の対象に。動画情報以外でも{title}などが展開される。当然、入力欄から入力したコメも対象。
  * {mylistrate}マイリス率を追加
  * {requestnum}, {requesttime}, {stocknum}, {stocktime} を追加。マニュアルの運営コメントのマクロ項目参照で。
  * 動画DBのフィールドにお気に入り度を追加しておいた(あとで使う予定)
  * ジングル再生ボタンをジングル動画設定の横に付けた。ボタンの効果があるのは通常のジングル再生と同じで、放送開始3分以内で、何も動画を再生していないときに、ボタン押して5秒後にジングル再生を始める。